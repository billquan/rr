{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Bill Quan\\\\Desktop\\\\fit3171\\\\fit4002\\\\rr1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Bill Quan\\\\Desktop\\\\fit3171\\\\fit4002\\\\rr1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Bill Quan\\\\Desktop\\\\fit3171\\\\fit4002\\\\rr1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Bill Quan\\\\Desktop\\\\fit3171\\\\fit4002\\\\rr1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import PaypalButtons from\"./PaypalButton\";import\"../styles/CourseDetail.css\";import{Table,Form,Button,Col,Modal}from\"react-bootstrap\";import AuthService from\"../services/auth.service\";var CourseDetail=/*#__PURE__*/function(_Component){_inherits(CourseDetail,_Component);var _super=_createSuper(CourseDetail);function CourseDetail(props){var _this;_classCallCheck(this,CourseDetail);_this=_super.call(this,props);_this.showPaypalButtons=function(){_this.setState({showPaypal:true});};_this.state={showPaypal:false};return _this;}_createClass(CourseDetail,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/courses/\".concat(this.props.match.params.id)).then(function(response){_this2.setState({course:response.data[0],title:response.data[0].title,description:response.data[0].description,facilitator:response.data[0].facilitator,startDate:response.data[0].startDate,endDate:response.data[0].endDate,startTime:response.data[0].startTime,endTime:response.data[0].endTime,location:response.data[0].location[\"address1\"],count:response.data[0].count,maxMembers:response.data[0].maxMembers,cost:response.data[0].cost,ID:response.data[0]._id});console.log(response.data);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var showPaypal=this.state.showPaypal;var currentUser=AuthService.getCurrentUser();var button;var button1;if(!currentUser){button=/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:this.showPaypalButtons,type:\"button\",disabled:true},\"You have to log in first to enroll in a course\");}else if(currentUser.courseEnrolledIn.includes(this.state.ID)){button=/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:this.showPaypalButtons,type:\"button\",disabled:true},\"You have enrolled in this course\");}else{button=/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:this.showPaypalButtons,type:\"button\"},\"Buy now for $\",this.state.cost);}if(showPaypal){return/*#__PURE__*/React.createElement(PaypalButtons,{cost:this.state.cost,title:this.state.title,courseId:this.state.ID});}else{return/*#__PURE__*/React.createElement(\"div\",null,this.state.course?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"https://picsum.photos/1000/300\",alt:\"\"}),/*#__PURE__*/React.createElement(\"h1\",null,this.state.title),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"50%\",height:80,float:\"left\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Created by \",this.state.facilitator),/*#__PURE__*/React.createElement(\"p\",null,new Date(this.state.course.startDate).toISOString().replace('-','/').split('T')[0].replace('-','/').concat(\" - \",new Date(this.state.course.endDate).toISOString().replace('-','/').split('T')[0].replace('-','/')),\" | \",this.state.course.location.address1.concat(\", \",this.state.course.location.address2,\", \",this.state.course.location.city,\", \",this.state.course.location.state,\", \",this.state.course.location.postCode),\" |\",\" \",this.state.maxMembers-this.state.count,\" spots available!\")),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"50%\",height:80,float:\"right\",display:\"flex\",alignItems:\"center\",// alignContent: \"center\"\njustifyContent:\"center\"}},button),/*#__PURE__*/React.createElement(\"p\",null,new Date(this.state.course.startTime).toLocaleString([],{hour:'2-digit',minute:'2-digit'}).concat(\" - \",new Date(this.state.course.endTime).toLocaleString([],{hour:'2-digit',minute:'2-digit'})),\" | \",this.state.course.repeatDay.join(', '))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Description\"),this.state.description))):null);}}}]);return CourseDetail;}(Component);export default CourseDetail;","map":{"version":3,"sources":["C:/Users/Bill Quan/Desktop/fit3171/fit4002/rr1/src/CoursePage/CourseDetail.js"],"names":["React","Component","axios","PaypalButtons","Table","Form","Button","Col","Modal","AuthService","CourseDetail","props","showPaypalButtons","setState","showPaypal","state","get","match","params","id","then","response","course","data","title","description","facilitator","startDate","endDate","startTime","endTime","location","count","maxMembers","cost","ID","_id","console","log","catch","error","currentUser","getCurrentUser","button","button1","courseEnrolledIn","includes","width","height","float","Date","toISOString","replace","split","concat","address1","address2","city","postCode","display","alignItems","justifyContent","toLocaleString","hour","minute","repeatDay","join"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport PaypalButtons from \"./PaypalButton\"\r\nimport \"../styles/CourseDetail.css\";\r\nimport { Table,Form, Button, Col, Modal } from \"react-bootstrap\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\n\r\n\r\n\r\nclass CourseDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n      this.state = {\r\n          showPaypal : false\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`http://localhost:5000/courses/${this.props.match.params.id}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          course: response.data[0],\r\n          title: response.data[0].title,\r\n          description: response.data[0].description,\r\n          facilitator: response.data[0].facilitator,\r\n          startDate: response.data[0].startDate,\r\n          endDate: response.data[0].endDate,\r\n            startTime: response.data[0].startTime,\r\n            endTime: response.data[0].endTime,\r\n            location: response.data[0].location[\"address1\"],\r\n            count: response.data[0].count,\r\n          maxMembers: response.data[0].maxMembers,\r\n          cost: response.data[0].cost,\r\n            ID: response.data[0]._id\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n    showPaypalButtons = () => {\r\n        this.setState({ showPaypal: true });\r\n    };\r\n  render() {\r\n      const { showPaypal } = this.state;\r\n      const currentUser = AuthService.getCurrentUser();\r\n      let button;\r\n      let button1;\r\n      if (!currentUser) {\r\n          button = <Button variant=\"primary\" onClick = {this.showPaypalButtons}  type=\"button\" disabled>\r\n              You have to log in first to enroll in a course\r\n              </Button>;\r\n      } else if (currentUser.courseEnrolledIn.includes(this.state.ID)){\r\n          button = <Button variant=\"primary\" onClick = {this.showPaypalButtons}  type=\"button\" disabled>\r\n              You have enrolled in this course\r\n              </Button>;\r\n      } else{\r\n          \r\n          button = <Button variant=\"primary\" onClick = {this.showPaypalButtons}  type=\"button\">\r\n              Buy now for ${this.state.cost}\r\n              </Button>;\r\n         \r\n      }\r\n      if (showPaypal) {\r\n          return <PaypalButtons\r\n          cost = {this.state.cost}\r\n          title = {this.state.title}\r\n          courseId = {this.state.ID}\r\n          />;\r\n      } else {\r\n        return (\r\n          <div>\r\n            {this.state.course ? (\r\n                    <div>\r\n                    <img src=\"https://picsum.photos/1000/300\" alt=\"\" />\r\n                <h1>{this.state.title}</h1>\r\n                <div style={{ width: \"100%\" }}>\r\n      <div style={{ width: \"50%\", height: 80, float: \"left\" }}>\r\n      <p>Created by {this.state.facilitator}</p>\r\n\r\n          <p>\r\n          {new Date(this.state.course.startDate).toISOString().replace('-', '/').split('T')[0].replace('-', '/').concat(\r\n                  \" - \",\r\n                  new Date(this.state.course.endDate).toISOString().replace('-', '/').split('T')[0].replace('-', '/')\r\n              )} | {this.state.course.location.address1.concat(\r\n              \", \",\r\n              this.state.course.location.address2,\r\n              \", \",\r\n              this.state.course.location.city,\r\n              \", \",\r\n              this.state.course.location.state,\r\n              \", \",\r\n              this.state.course.location.postCode,\r\n          )} |{\" \"}\r\n          {this.state.maxMembers-this.state.count} spots available!\r\n          </p>\r\n          </div>\r\n          <div\r\n          style={{\r\n              width: \"50%\",\r\n                  height: 80,\r\n                  float: \"right\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  // alignContent: \"center\"\r\n                  justifyContent: \"center\",\r\n          }}\r\n      >\r\n\r\n\r\n          {button}\r\n      </div>\r\n          <p>\r\n          {new Date(this.state.course.startTime).toLocaleString([], {hour: '2-digit', minute:'2-digit'}).concat(\r\n                  \" - \",\r\n                  new Date(this.state.course.endTime).toLocaleString([], {hour: '2-digit', minute:'2-digit'})\r\n              )} | {this.state.course.repeatDay.join(', ')}\r\n          </p>\r\n          </div>\r\n\r\n          <div>\r\n          <p>\r\n          <h3>Description</h3>\r\n          {this.state.description}\r\n      </p>\r\n          </div>\r\n          </div>\r\n                ):null}\r\n            </div>\r\n        );\r\n  }\r\n      }\r\n}\r\n\r\nexport default CourseDetail;\r\n\r\n"]},"metadata":{},"sourceType":"module"}