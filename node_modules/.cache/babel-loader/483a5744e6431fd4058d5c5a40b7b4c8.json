{"ast":null,"code":"var _jsxFileName = \"/Users/jiahaoyu/Desktop/4002/src/Components/CourseList.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport CourseTile from \"./CourseTile\";\n\nclass CourseList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: \"\",\n      description: \"\",\n      imgUrl: \"\",\n      courseIds: [],\n      courses: []\n    };\n    this.getCourses = this.getCourses.bind(this);\n  } // Retrieve all the courses in the database, and add all the courses to the state\n\n\n  componentDidMount() {\n    // Retrieve an array of courseIds for a given category\n    axios // *** The following commented line is needed for dynamic routes ***\n    .get(`http://localhost:5000/categories/find/${this.props.match.params.category}`).then(response => {\n      this.setState({\n        category: response.data[0].category,\n        description: response.data[0].description,\n        imgUrl: response.data[0].imgUrl,\n        courseIds: response.data[0].courses\n      });\n      this.getCourses(); // This is a proceeding function\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  getCourses() {\n    // Retrieve all the courses given the course's '_id'\n    this.state.courseIds.forEach(courseId => {\n      axios.get(`http://localhost:5000/courses/${courseId}`).then(response => {\n        this.setState({\n          courses: this.state.courses.concat(response.data)\n        }); // console.log(response.data);\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, this.state.category), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imgUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, this.state.description)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row row-cols-1 row-cols-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, this.state.courses.map(course => {\n      return /*#__PURE__*/React.createElement(CourseTile, {\n        category: this.props.match.params.category,\n        title: course.title,\n        description: course.description,\n        key: course._id,\n        id: course._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      });\n    })));\n  }\n\n}\n\nexport default CourseList;","map":{"version":3,"sources":["/Users/jiahaoyu/Desktop/4002/src/Components/CourseList.js"],"names":["React","Component","axios","CourseTile","CourseList","constructor","props","state","category","description","imgUrl","courseIds","courses","getCourses","bind","componentDidMount","get","match","params","then","response","setState","data","catch","error","console","log","forEach","courseId","concat","render","map","course","title","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport CourseTile from \"./CourseTile\";\n\nclass CourseList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      category: \"\",\n      description: \"\",\n      imgUrl: \"\",\n      courseIds: [],\n      courses: [],\n    };\n\n    this.getCourses = this.getCourses.bind(this);\n  }\n\n  // Retrieve all the courses in the database, and add all the courses to the state\n  componentDidMount() {\n    // Retrieve an array of courseIds for a given category\n    axios\n      // *** The following commented line is needed for dynamic routes ***\n      .get(\n        `http://localhost:5000/categories/find/${this.props.match.params.category}`\n      )\n      .then((response) => {\n        this.setState({\n          category: response.data[0].category,\n          description: response.data[0].description,\n          imgUrl: response.data[0].imgUrl,\n          courseIds: response.data[0].courses,\n        });\n        this.getCourses(); // This is a proceeding function\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getCourses() {\n    // Retrieve all the courses given the course's '_id'\n    this.state.courseIds.forEach((courseId) => {\n      axios\n        .get(`http://localhost:5000/courses/${courseId}`)\n        .then((response) => {\n          this.setState({\n            courses: this.state.courses.concat(response.data),\n          });\n          // console.log(response.data);\n        });\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <h1>{this.state.category}</h1>\n          <img src={this.state.imgUrl} alt=\"\" />\n          <p>{this.state.description}</p>\n        </div>\n        <div className=\"row row-cols-1 row-cols-md-2\">\n          {this.state.courses.map((course) => {\n            return (\n              <CourseTile\n                category={this.props.match.params.category}\n                title={course.title}\n                description={course.description}\n                key={course._id}\n                id={course._id}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CourseList;\n"]},"metadata":{},"sourceType":"module"}